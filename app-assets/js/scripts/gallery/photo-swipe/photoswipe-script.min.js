/*!
 * stack-admin-theme (https://pixinvent.com/bootstrap-admin-template/stack)
 * Copyright 2017 PIXINVENT
 * Licensed under the Themeforest Standard Licenses
 */

var initPhotoSwipeFromDOM=function(gallerySelector){for(var onThumbnailsClick=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var clickedListItem=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn))}(e.target||e.srcElement,function(el){return el.tagName&&"FIGURE"===el.tagName.toUpperCase()});if(clickedListItem){for(var index,clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,i=0;i<numChildNodes;i++)if(1===childNodes[i].nodeType){if(childNodes[i]===clickedListItem){index=nodeIndex;break}nodeIndex++}return index>=0&&openPhotoSwipe(index,clickedGallery),!1}},openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var options,items,pswpElement=document.querySelectorAll(".pswp")[0];if(items=function(el){for(var figureEl,linkEl,size,item,thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],i=0;i<numNodes;i++)1===(figureEl=thumbElements[i]).nodeType&&(size=(linkEl=figureEl.children[0]).getAttribute("data-size").split("x"),item={src:linkEl.getAttribute("href"),w:parseInt(size[0],10),h:parseInt(size[1],10)},figureEl.children.length>1&&(item.title=figureEl.children[1].innerHTML),linkEl.children.length>0&&(item.msrc=linkEl.children[0].getAttribute("src")),item.el=figureEl,items.push(item));return items}(galleryElement),options={galleryUID:galleryElement.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName("img")[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width}}},fromURL)if(options.galleryPIDs){for(var j=0;j<items.length;j++)if(items[j].pid==index){options.index=j;break}}else options.index=parseInt(index,10)-1;else options.index=parseInt(index,10);isNaN(options.index)||(disableAnimation&&(options.showAnimationDuration=0),new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options).init())},galleryElements=document.querySelectorAll(gallerySelector),i=0,l=galleryElements.length;i<l;i++)galleryElements[i].setAttribute("data-pswp-uid",i+1),galleryElements[i].onclick=onThumbnailsClick;var hashData=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5)return params;for(var vars=hash.split("&"),i=0;i<vars.length;i++)if(vars[i]){var pair=vars[i].split("=");pair.length<2||(params[pair[0]]=pair[1])}return params.gid&&(params.gid=parseInt(params.gid,10)),params}();hashData.pid&&hashData.gid&&openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],!0,!0)};$("document").ready(function(){initPhotoSwipeFromDOM(".my-gallery"),$(".masonry-grid").length>0&&$(".masonry-grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer"})});